---
title: "이영우 복습일지(4) - 호이스팅이란?"
layout: post
comments: true
categories: [이영우/복습일지]
tags: [이영우]
---

# 호이스팅의 개념

**함수 안에 있는 선언들을 모두 끌어올려서 해당 함수 유효 범위의 최상단에 선언하는 것**을 말한다.

**Hoist(:끌어 올리다) + ing 의 합성어 Hoisting**

1. 선언된 함수는 상단에서 참조, 호출이 **가능**하다.
2. 선언된 `var` 는 상단에서 참조, 할당이 **가능**하다.
3. 선언된 `let` , `const` 는 상단에서 참조, 할당이 **불가능**하다.
4. ECMAscript6 이후 `let` 이라는 키워드가 추가되고 나서는 더 이상 `var` 를 사용하지 않는다.

## 호이스팅이란

자바스크립트 함수는 실행되기전에, 함수 안의 필요한 변수값들을 모두 모아서 유효 범위(`Scope`) 최상단에 선언한다.

## 함수 호이스팅

[함수 호이스팅은 다른 무엇보다 가장 먼저 이루어진다.](https://stackoverflow.com/questions/28246589/order-of-hoisting-in-javascript) 그리고 함수 호이스팅은 선언문에만 해당하는데 이는 굳이 어렵게 받아들일 필요가 없다. 

함수 표현식은 결국 어떠한 변수로 함수를 할당하는 모양새여서 이것 또한 변수 호이스팅 사례로 볼 수 있기 때문이다.

```jsx
var value = 'value';
var func = function () {};
```

함수의 선언문은 식별자가 변수 객체에 수집될 때 부가적으로 해당 함수 참조에 대한 초기화까지 자동으로 이루어진다. 

그래서 선언된 함수는 상단에서 참조, 호출이 가능하다.

## 변수 호이스팅

변수는 프로그램 내에서 크게 세 가지 단계를 거친다.

1. 선언 : 파싱 과정에서 변수 객체가 변수에 대한 식별자들을 수집한다.
2. 초기화 : 식별자에 메모리를 할당하고 `undefined` 상태를 부여한다.
3. 할당 : 변수 안에 직접 값을 넘겨 준다.

함수 호이스팅 과정에서 함수의 식별자를 선언하고 참조값을 초기화한 것처럼 변수 또한 마찬가지로 선언과 초기화를 해주어야만 값의 참조 및 할당이 가능하다. 

다만 변수를 어떻게 선언했는지에 따라 선언, 초기화 시점이 달라질 수 있다는 점을 유의해야 한다.

`var` 키워드로 선언한 변수는 런타임 이전에 자바스크립트 엔진에 의해 암묵적으로 “선언 단계” 와 “초기화 단계”가 동시에 진행된다.

변수 할당식은 호이스팅 되지 않기에 `undefined` 가 된다.

`let` , `const` 는 호이스팅이 발생하면, 선언만 이루어지고 실행 시점에서 실질적인 선언부를 만날 때까지 초기화는 이루어지지 않는다. 

이 간극만큼 해당 변수에 대한 메모리는 존재하지 않기 때문에 선언부 상단에서 참조, 할당이 불가능하다.

> `let`, `const` 가 동작하는 과정에서 스코프의 진입지점과 해당 식별자의 실질적 선언부 사이를 **일시적 사각지대, TDZ(Temporal Dead Zone)** 라고 한다. 

여기서 변수는 존재하지만, 초기화가 되어있지 않다.
> 

```jsx
{
  /*
   * Temporal Dead Zone of a
   * a는 이 구간에서 참조할 수 없다.
   * console.log(a) // Reference Error
   */
  let a;
}
```

# 레퍼런스

---

[호이스팅에 대한 오해와 진실](https://tecoble.techcourse.co.kr/post/2021-04-25-hoisting/)

[[JavaScript] 호이스팅(Hoisting)이란 - Heee's Development Blog](https://gmlwjd9405.github.io/2019/04/22/javascript-hoisting.html)
