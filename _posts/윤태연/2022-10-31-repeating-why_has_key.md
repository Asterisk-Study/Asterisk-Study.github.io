---
title: "윤태연 복습일지(4): 리액트는 Key가 좋아!"
layout: post
comments: true
categories: [윤태연/복습일지]
tags: 윤태연
---

# : 2022 / 10 / 31

---

## 리액트는 Key가 좋아!

### 배열의 단점

리액트에서 `map`을 쓸 때 `key` 속성을 안넣어줘도 렌더링되지만 오류가 뜨기에 무조건 넣어줘야한다. 왜 그럴까?
우선 예를 들어

```js
let arr = ["a", "b", "c", "d"];
arr.map((item) => <div>{item}</div>);
```

인 코드를 보면 저렇게 렌더링되는데, 만약 인덱스 3번에 "z"를 넣는다면 "a"를 없앤다면?
배열의 구조상 c가 z로, d는 c로 인덱스 4번은 d로 삽입되고 / a는 b, b는 c, z는 c, c는 d로 바뀌며 맨 마지막에 있는 d는 제거되고.. 등의 과정을 거쳐 시간이 오래 걸린다. 배열 메소드 중 `splice`나 `(un)shift`를 생각하면 쉽다. 근데 여기에 리액트의 컴포넌트 렌더링까지 포함된다면? 불러오는 배열의 크기(리소스)가 크면 클수록 로딩시간이 천정부지로 솟아 UX에 악영향을 끼친다.
여기에서! key가 들어온다.

### key의 등장

`key`는 같은 컴포넌트를 여러번 렌더링할 때, 다른 컴포넌트임을 구분하기 위해서 사용하는 속성으로 쓰인다. 즉, `key`는 리액트가 어떤 항목을 변경, 추가 또는 삭제할지 식별하는 것을 도와주는 아주 고마운 존재다. 위에서 봤듯이 배열 구조상 수정되기 어렵다. 애초에 아무런 순서 지정 없이 로딩되는 시간도 길다. 그래서 일부러 고유한 `key` 값을 지정해 배열의 수정 구조에서 일어나는 비효율적인 동작을 막을 수 있다. 왜냐면 그 고유한 값이 지정되면 지정된 걔를 빼고 넣으면 되니까!

그래서 보통 `key`는 서버에서 불러온 리소스 안 `id`를 지정하거나 최후의 수단으로 `index`를 사용한다. 물론 `index`도 수정되면 꼬여 중복된 값이 생길 수도 있으니까 안좋을 수도
`uuid`도 대안으로 있다.
